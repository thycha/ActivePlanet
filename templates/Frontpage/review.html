{% extends 'Frontpage/base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<style>
/* Style for the star rating container */
  .star-rating {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 10px;
  }

  /* Style for the star inputs (hidden) */
  .star-rating input[type="radio"] {
      display: none;
  }

  /* Style for the star labels */
  .star-rating label {
      font-size: 30px;
      color: #ccc;
      cursor: pointer;
      margin: 0 5px;
  }

  /* Style for the star labels when selected */
  .star-rating input[type="radio"]:checked + label {
      color: #ffac00; /* Change to your preferred star color */
  }
</style>



  <!-- Page Header Start here -->
  <section class="page-header section-notch">
    <div class="overlay">
      <div class="container">
        <h3>Write Your Reviews Here</h3>
        <!-- <ul>
          <li><a href="index.html">Home</a></li>
          <li>-</li>
          <li>Contact us</li>
        </ul> -->
      </div><!-- container -->
    </div><!-- overlay -->
  </section><!-- page header -->
  <!-- Page Header End here -->


  <!-- Contact Start here -->
  <section class="contact contact-page">
    <div class="contact-details padding-120">
      <div class="container">
        <div class="row">
          <!-- <div class="col-lg-4 col-md-6 col-xs-12">
            <ul>
              <li class="contact-item">
                <span class="icon flaticon-signs"></span>
                <div class="content">
                  <h4>Our Location</h4>
                  <p>218 Sahera Tropical Center Room#7 <br> New Newyork Road 1205</p>
                </div>
              </li>
              <li class="contact-item">
                <span class="icon flaticon-smartphone"></span>
                <div class="content">
                  <h4>Phone Number</h4>
                  <p>01923-970212, 01776-502993 <br> +2154897369</p>
                </div>
              </li>
              <li class="contact-item">
                <span class="icon flaticon-message"></span>
                <div class="content">
                  <h4>Email Address</h4>
                  <p>hello@Thycha Technologies <br> hello@codexcoder.com</p>
                </div>
              </li>
            </ul>
          </div> -->
          <div id="response">
          {% for message in messages %}
            <p style="color: green;">{{ message }}</p>
          {% endfor %}
          </div>

          <form class="contact-form" id="form" method="post">
            <div class="star-rating">
              <input type="radio" id="star1" name="rating" value="1" required /><label for="star1"><i class="fas fa-star" title="1 star"></i></label>
              <input type="radio" id="star2" name="rating" value="2" required /><label for="star2"><i class="fas fa-star" title="2 stars"></i></label>
              <input type="radio" id="star3" name="rating" value="3" required /><label for="star3"><i class="fas fa-star" title="3 stars"></i></label>
              <input type="radio" id="star4" name="rating" value="4" required /><label for="star4"><i class="fas fa-star" title="4 stars"></i></label>
              <input type="radio" id="star5" name="rating" value="5" required /><label for="star5"><i class="fas fa-star" title="5 stars"></i></label>               
            </div>
            <div class="col-lg-12 col-md-12 col-xs-12">
              <input name="name" id="name" style="border: 1px solid rgba(0, 0, 0, 0.405); border-radius: 5px;" type="text" placeholder="Your Name" class="contact-input">
              <!-- <input type="file" name="image"  class="form-control contact-input " > -->
              <input name="place" id="place" style="border: 1px solid rgba(0, 0, 0, 0.405); border-radius: 5px;" type="text" placeholder="Your Place" class="contact-input">
              <textarea id="description" name="description" style="border: 1px solid rgba(0, 0, 0, 0.405); border-radius: 5px;" rows="5" class="contact-input" placeholder="Your Experience"></textarea>
              <input id="submit" style="border: 1px solid rgba(0, 0, 0, 0.405); border-radius: 5px;" type="submit" name="submit" value="Submite" class="contact-button">
            </div>
          </form>
        </div>
      </div>
    </div>
    <!-- <div class="contact-map" id="map-canvas"></div> -->
  </section>
  <!-- Contact End here -->
  <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
  <!-- <script>
      $(document).ready(function(){
        $('#submit').on('click',function(){
          var name = $('#name').val()
          var place = $('#place').val()
          var description = $('#description').val()
          var rating = $("input[name='rating']:checked").val();

          alert(rating)

          $.ajax({
            url : '{% url "review" %}',
            type : 'POST',
            data : {'name':name,'place':place,'description':description,'rating':rating},

            success : function(response){
              if (response.status == 'success'){
                $('#response').html('<p style="color:green">Review added successfully ... !</p>')
                $('#form')[0].reset();
                $("input[name='rating']").prop('checked', false);
              }else{
                $('#response').html('<p style="color:red">Something Went wront cant add review ... !</p>')
              }
            }
          })
        })
      })
  </script> -->

  <script>
    // JavaScript to fill stars up to the selected rating
    const starInputs = document.querySelectorAll('.star-rating input[type="radio"]');
    const starLabels = document.querySelectorAll('.star-rating label');

    starLabels.forEach((label, index) => {
        label.addEventListener('click', () => {
            // Reset all stars to unfilled
            starLabels.forEach((starLabel, i) => {
                if (i <= index) {
                    starLabel.style.color = '#ffac00'; // Fill the stars
                } else {
                    starLabel.style.color = '#ccc'; // Unfill the stars
                }
            });
        });
    });
  </script> 

  {% endblock content %}